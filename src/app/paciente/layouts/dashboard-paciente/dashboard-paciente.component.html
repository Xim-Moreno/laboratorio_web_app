<div class="row">
  <div class="column">
    <h1>Bienvenid&commat;, {{userName}}</h1>
    <img src="assets/images/paciente.png" alt="logo" class="logo"/>
  </div>
  <div class="column" style="margin-left: 200px; margin-top: 90px;">
    <button (click)="goToSolicitud()" class="button">Solicita un examen</button>
  </div>
  <div class="column"></div>
</div>

<div class="row">
  <div class="column">
    <h2>Historial médico</h2>
    <div id="tableContainer">
      <table id="dynamicTable">
          <thead>
              <tr>
                  <th class="text">Fecha</th>
                  <th class="text">Análisis realizado</th>
                  <th class="text">Médico que atendió</th>
                  <th class="text">Estado</th>
              </tr>
          </thead>
          <tbody>
            <tr *ngFor="let historial of historiales">
              <td class="text" style="font-weight: 350;">{{ historial.date }}</td>
              <td class="text" style="font-weight: 350;">{{ historial.analysis }}</td>
              <td class="text" style="font-weight: 350;">{{ historial.doctor_id }}</td>
              <td
                class="text"
                [ngClass]="{'clickable': historial.status === 'Resultados listos'}"
                (click)="historial.status === 'Resultados listos' ? viewResults(historial) : null"
              >{{ historial.status }}</td>
            </tr>
            <tr *ngIf="historiales.length === 0" class="emptyRow">
              <td colspan="4">No hay datos disponibles.</td>
            </tr>
          </tbody>
      </table>
  </div>
  </div>
  <div class="column">
    <h2>Tus próximas citas</h2>
    <div id="tableContainer">
      <table id="dynamicTable">
          <thead>
              <tr>
                  <th class="text">Fecha</th>
                  <th class="text">Hora</th>
                  <th class="text">Análisis</th>
              </tr>
          </thead>
          <tbody>
            <tr *ngFor="let cita of citas">
              <td class="text" style="font-weight: 350;">{{ cita.date }}</td>
              <td class="text" style="font-weight: 350;">{{ cita.hour }}</td>
              <td class="text" style="font-weight: 350;">{{ cita.analysis }}</td>
            </tr>
            <tr *ngIf="citas.length === 0" class="emptyRow">
              <td colspan="3">No hay datos disponibles.</td>
            </tr>
          </tbody>
      </table>
  </div>
  </div>
</div>
